<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Component

`Component` is an extensible class constructor which provides the building block of Yuzu component system.

### mount

Mounts a component's instance on a DOM element and initializes it.
To prevent this second behavior set `state` to `null`

Lifecycle stage: `mount`

Lifecycle hooks:

-   `beforeMount` just after attaching the root element (this.$el) but before any listener and selector registration
-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)
-   `mounted`

#### Parameters

-   `el` **([string][1] \| [HTMLElement][2])** Component's root element
-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### init

Initializes the component instance

Lifecycle stage: `init`

Lifecycle hooks:

-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)

#### Parameters

-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### created

Lifecycle hook called on instance creation

### beforeMount

Lifecycle hook called just before mounting the instance onto the root element

### mounted

Lifecycle hook called when the instance gets mounted onto a DOM element

### initialize

Lifecycle hook called before instance initialization.

### ready

Lifecycle hook called after instance initialization. State and event binding are already in place

### beforeDestroy

Lifecycle hook called just before closing child refs

### getState

Returns a state property

#### Parameters

-   `key` **[string][1]** State property to return

#### Examples

```javascript
const instance = new Component().mount('#app', { a: 1 });
// instance.getState('a') === 1
```

Returns **any** 

### shouldUpdateState

Executes a strict inequality comparison (`!==`) on the passed-in values and returns the result.
This method is executed on `setState` calls.

You can overwrite this method with your own validation logic

#### Parameters

-   `key` **[string][1]** State property name
-   `currentValue` **any** value stored in the current state
-   `newValue` **any** New value

Returns **[boolean][5]** 

### setState

Sets internal state property(ies). Creates a shallow copy of the current state.
If the computed new state is different from the old one it emits a `change:<property>` event for every changed property
as well as a `change:*` event

To prevent this behavior set the second argument to `true` (silent update)

If the new value argument is a function, it will be executed with the current state as argument.
The returned value will be used to update the state.

#### Parameters

-   `updater` **([object][3] \| [function][6])** Defines which part of the state must be updated. If a string it define the state property name
-   `silent` **[boolean][5]** Update the state without emitting change events (optional, default `false`)

#### Examples

```javascript
instance.on('change:a', (next, prev) => console.log(next, prev));
instance.setState({ a: 1 }); //emits 'change:a' -> logs undefined,1

instance.setState({ a: 1 }); //nothing happens
instance.setState({ a: 2 }, true); //nothing happens, again...

// use the current state to calculate its next value
instance.setState(({ a }) => ({a + 1}));
```

### broadcast

Emits a `broadcast:<eventname>` event to every child component listed as a `$ref`

#### Parameters

-   `event` **[string][1]** Event name
-   `params` **[Array][7]&lt;any>?** Additional arguments to pass to the handler

#### Examples

```javascript
const child = new Component('#child');
child.on('broadcast:log', (str) => console.log(str));

instance.setRef({ id: 'child', component: child });
instance.broadcast('log', 'test') // child component logs 'test'
```

### setListener

Sets a DOM event listener

#### Parameters

-   `def` **[string][1]** Event and target element definition
-   `handler` **[function][6]** Event handler

### removeListeners

Removes all DOM event listeners attached with `.setListener`

### setRef

Attaches a reference to a child component.
If a reference `id` is already attached, the previous one is destroyed and replaced with the new one

#### Parameters

-   `refCfg` **[object][3]** A child component configuration object
    -   `refCfg.id` **[string][1]** Reference id. Will be used to set a reference to the child component onto `this.$refs`
    -   `refCfg.component` **component** Component constructor or component instance
    -   `refCfg.el` **([string][1] \| [HTMLElement][2])** Child component root element. Ignored if `refCfg.component` is a component instance
    -   `refCfg.on` **[Object][3]** Child component event listeners. Format `{ 'eventname': handler }`
    -   `refCfg.null` **any** -   Any other property listed here will be passed to the constructor as option
-   `props` **[object][3]?** Child component initial state.

#### Examples

```javascript
const parent = new Component('#root');

class ChildComponent extends Component {}

// as constructor
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
});

// as instance
parent.setRef({
  id: 'child',
  component: new ChildComponent({ ... }).mount('#child', null) // <-- prevent component init
});

// sync parent - child state
// updates child `parentCount` state whenever `parent.state.count` changes
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
}, {
  parentCount: (parentState) => parentState.count
});
```

Returns **[Promise][8]** 

### closeRefs

Calls `.destroy()` on every child references and detaches them from the parent component.

Returns **[Promise][8]** 

### destroy

Detaches DOM events, instance's events and destroys all references as well

Lifecycle stage: `destoy`

Lifecycle hooks:

-   `beforeDestroy`

Returns **[Promise][8]** 

### isComponent

Checks whether the passed-in value is a Component constructor

#### Parameters

-   `value` **any** 

Returns **[boolean][5]** 

### defaultOptions

Returns an object with default options

Returns **[object][3]** 

## Component

### mount

Mounts a component's instance on a DOM element and initializes it.
To prevent this second behavior set `state` to `null`

Lifecycle stage: `mount`

Lifecycle hooks:

-   `beforeMount` just after attaching the root element (this.$el) but before any listener and selector registration
-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)
-   `mounted`

#### Parameters

-   `el` **([string][1] \| [HTMLElement][2])** Component's root element
-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### init

Initializes the component instance

Lifecycle stage: `init`

Lifecycle hooks:

-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)

#### Parameters

-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### created

Lifecycle hook called on instance creation

### beforeMount

Lifecycle hook called just before mounting the instance onto the root element

### mounted

Lifecycle hook called when the instance gets mounted onto a DOM element

### initialize

Lifecycle hook called before instance initialization.

### ready

Lifecycle hook called after instance initialization. State and event binding are already in place

### beforeDestroy

Lifecycle hook called just before closing child refs

### getState

Returns a state property

#### Parameters

-   `key` **[string][1]** State property to return

#### Examples

```javascript
const instance = new Component().mount('#app', { a: 1 });
// instance.getState('a') === 1
```

Returns **any** 

### shouldUpdateState

Executes a strict inequality comparison (`!==`) on the passed-in values and returns the result.
This method is executed on `setState` calls.

You can overwrite this method with your own validation logic

#### Parameters

-   `key` **[string][1]** State property name
-   `currentValue` **any** value stored in the current state
-   `newValue` **any** New value

Returns **[boolean][5]** 

### setState

Sets internal state property(ies). Creates a shallow copy of the current state.
If the computed new state is different from the old one it emits a `change:<property>` event for every changed property
as well as a `change:*` event

To prevent this behavior set the second argument to `true` (silent update)

If the new value argument is a function, it will be executed with the current state as argument.
The returned value will be used to update the state.

#### Parameters

-   `updater` **([object][3] \| [function][6])** Defines which part of the state must be updated. If a string it define the state property name
-   `silent` **[boolean][5]** Update the state without emitting change events (optional, default `false`)

#### Examples

```javascript
instance.on('change:a', (next, prev) => console.log(next, prev));
instance.setState({ a: 1 }); //emits 'change:a' -> logs undefined,1

instance.setState({ a: 1 }); //nothing happens
instance.setState({ a: 2 }, true); //nothing happens, again...

// use the current state to calculate its next value
instance.setState(({ a }) => ({a + 1}));
```

### broadcast

Emits a `broadcast:<eventname>` event to every child component listed as a `$ref`

#### Parameters

-   `event` **[string][1]** Event name
-   `params` **[Array][7]&lt;any>?** Additional arguments to pass to the handler

#### Examples

```javascript
const child = new Component('#child');
child.on('broadcast:log', (str) => console.log(str));

instance.setRef({ id: 'child', component: child });
instance.broadcast('log', 'test') // child component logs 'test'
```

### setListener

Sets a DOM event listener

#### Parameters

-   `def` **[string][1]** Event and target element definition
-   `handler` **[function][6]** Event handler

### removeListeners

Removes all DOM event listeners attached with `.setListener`

### setRef

Attaches a reference to a child component.
If a reference `id` is already attached, the previous one is destroyed and replaced with the new one

#### Parameters

-   `refCfg` **[object][3]** A child component configuration object
    -   `refCfg.id` **[string][1]** Reference id. Will be used to set a reference to the child component onto `this.$refs`
    -   `refCfg.component` **component** Component constructor or component instance
    -   `refCfg.el` **([string][1] \| [HTMLElement][2])** Child component root element. Ignored if `refCfg.component` is a component instance
    -   `refCfg.on` **[Object][3]** Child component event listeners. Format `{ 'eventname': handler }`
    -   `refCfg.null` **any** -   Any other property listed here will be passed to the constructor as option
-   `props` **[object][3]?** Child component initial state.

#### Examples

```javascript
const parent = new Component('#root');

class ChildComponent extends Component {}

// as constructor
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
});

// as instance
parent.setRef({
  id: 'child',
  component: new ChildComponent({ ... }).mount('#child', null) // <-- prevent component init
});

// sync parent - child state
// updates child `parentCount` state whenever `parent.state.count` changes
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
}, {
  parentCount: (parentState) => parentState.count
});
```

Returns **[Promise][8]** 

### closeRefs

Calls `.destroy()` on every child references and detaches them from the parent component.

Returns **[Promise][8]** 

### destroy

Detaches DOM events, instance's events and destroys all references as well

Lifecycle stage: `destoy`

Lifecycle hooks:

-   `beforeDestroy`

Returns **[Promise][8]** 

### isComponent

Checks whether the passed-in value is a Component constructor

#### Parameters

-   `value` **any** 

Returns **[boolean][5]** 

### defaultOptions

Returns an object with default options

Returns **[object][3]** 

## Component

Component constructor

Lifecycle stage: `create`

Lifecycle hooks:

-   `created`

### Parameters

-   `options` **[object][3]** Instance options (optional, default `{}`)

Returns **[Component][4]** 

### mount

Mounts a component's instance on a DOM element and initializes it.
To prevent this second behavior set `state` to `null`

Lifecycle stage: `mount`

Lifecycle hooks:

-   `beforeMount` just after attaching the root element (this.$el) but before any listener and selector registration
-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)
-   `mounted`

#### Parameters

-   `el` **([string][1] \| [HTMLElement][2])** Component's root element
-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### init

Initializes the component instance

Lifecycle stage: `init`

Lifecycle hooks:

-   `initialize` (if `state` !== null)
-   `ready` (if `state` !== null)

#### Parameters

-   `state` **([object][3] | null)** initial state (optional, default `{}`)

Returns **[Component][4]** 

### created

Lifecycle hook called on instance creation

### beforeMount

Lifecycle hook called just before mounting the instance onto the root element

### mounted

Lifecycle hook called when the instance gets mounted onto a DOM element

### initialize

Lifecycle hook called before instance initialization.

### ready

Lifecycle hook called after instance initialization. State and event binding are already in place

### beforeDestroy

Lifecycle hook called just before closing child refs

### getState

Returns a state property

#### Parameters

-   `key` **[string][1]** State property to return

#### Examples

```javascript
const instance = new Component().mount('#app', { a: 1 });
// instance.getState('a') === 1
```

Returns **any** 

### shouldUpdateState

Executes a strict inequality comparison (`!==`) on the passed-in values and returns the result.
This method is executed on `setState` calls.

You can overwrite this method with your own validation logic

#### Parameters

-   `key` **[string][1]** State property name
-   `currentValue` **any** value stored in the current state
-   `newValue` **any** New value

Returns **[boolean][5]** 

### setState

Sets internal state property(ies). Creates a shallow copy of the current state.
If the computed new state is different from the old one it emits a `change:<property>` event for every changed property
as well as a `change:*` event

To prevent this behavior set the second argument to `true` (silent update)

If the new value argument is a function, it will be executed with the current state as argument.
The returned value will be used to update the state.

#### Parameters

-   `updater` **([object][3] \| [function][6])** Defines which part of the state must be updated. If a string it define the state property name
-   `silent` **[boolean][5]** Update the state without emitting change events (optional, default `false`)

#### Examples

```javascript
instance.on('change:a', (next, prev) => console.log(next, prev));
instance.setState({ a: 1 }); //emits 'change:a' -> logs undefined,1

instance.setState({ a: 1 }); //nothing happens
instance.setState({ a: 2 }, true); //nothing happens, again...

// use the current state to calculate its next value
instance.setState(({ a }) => ({a + 1}));
```

### broadcast

Emits a `broadcast:<eventname>` event to every child component listed as a `$ref`

#### Parameters

-   `event` **[string][1]** Event name
-   `params` **[Array][7]&lt;any>?** Additional arguments to pass to the handler

#### Examples

```javascript
const child = new Component('#child');
child.on('broadcast:log', (str) => console.log(str));

instance.setRef({ id: 'child', component: child });
instance.broadcast('log', 'test') // child component logs 'test'
```

### setListener

Sets a DOM event listener

#### Parameters

-   `def` **[string][1]** Event and target element definition
-   `handler` **[function][6]** Event handler

### removeListeners

Removes all DOM event listeners attached with `.setListener`

### setRef

Attaches a reference to a child component.
If a reference `id` is already attached, the previous one is destroyed and replaced with the new one

#### Parameters

-   `refCfg` **[object][3]** A child component configuration object
    -   `refCfg.id` **[string][1]** Reference id. Will be used to set a reference to the child component onto `this.$refs`
    -   `refCfg.component` **component** Component constructor or component instance
    -   `refCfg.el` **([string][1] \| [HTMLElement][2])** Child component root element. Ignored if `refCfg.component` is a component instance
    -   `refCfg.on` **[Object][3]** Child component event listeners. Format `{ 'eventname': handler }`
    -   `refCfg.null` **any** -   Any other property listed here will be passed to the constructor as option
-   `props` **[object][3]?** Child component initial state.

#### Examples

```javascript
const parent = new Component('#root');

class ChildComponent extends Component {}

// as constructor
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
});

// as instance
parent.setRef({
  id: 'child',
  component: new ChildComponent({ ... }).mount('#child', null) // <-- prevent component init
});

// sync parent - child state
// updates child `parentCount` state whenever `parent.state.count` changes
parent.setRef({
  id: 'child',
  component: ChildComponent,
  el: '#child',
  // other options here...
}, {
  parentCount: (parentState) => parentState.count
});
```

Returns **[Promise][8]** 

### closeRefs

Calls `.destroy()` on every child references and detaches them from the parent component.

Returns **[Promise][8]** 

### destroy

Detaches DOM events, instance's events and destroys all references as well

Lifecycle stage: `destoy`

Lifecycle hooks:

-   `beforeDestroy`

Returns **[Promise][8]** 

### isComponent

Checks whether the passed-in value is a Component constructor

#### Parameters

-   `value` **any** 

Returns **[boolean][5]** 

### defaultOptions

Returns an object with default options

Returns **[object][3]** 

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[2]: https://developer.mozilla.org/docs/Web/HTML/Element

[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[4]: #component

[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
