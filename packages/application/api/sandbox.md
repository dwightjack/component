<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# Sandbox

**Extends Component**

A sandbox can be used to initialize a set of components based on an element's innerHTML.

Lets say we have the following component:

```js
class Counter extends Component {
  static root = '.Counter';

  // other stuff here ...
}
```

We can register the component inside a sandbox like this:

```js
const sandbox = new Sandbox({
  components: [Counter],
  root: '#main', // (defaults to `document.body`)
  id: 'main', // optional
});

sandbox.start();
```

In this way the sandbox will attach itself to the element matching `#main` and will traverse its children
looking for every `.Counter` element attaching an instance of the Counter component onto it.

To prevent a component for being initialized (for example when you want to initialize it at a later moment)
just add a `data-skip` attribute to its root element.

### Parameters

-   `options`   (optional, default `{}`)
-   `config` **[object][1]** 
    -   `config.components` **([Array][2]&lt;Component> | [Array][2]&lt;\[Component, [object][1]]>)?** Array of components constructor or array with [ComponentConstructor, options]
    -   `config.root` **([HTMLElement][3] \| [string][4])** Root element of the sandbox. Either a DOM element or a CSS selector (optional, default `document.body`)
    -   `config.id` **[string][4]?** ID of the sandbox

## Properties

-   `$id` **[string][4]** Sandbox internal id
-   `$el` **[HTMLElement][3]** Sandbox root DOM element
-   `$ctx` **Context** Internal [context][5]. Used to share data across child instances
-   `$registry` **[Array][2]&lt;[object][1]>** Registered components storage
-   `$instances` **[Map][6]** Running instances storage

Returns **[Sandbox][7]** 

## register

```js
register(params)
```

Registers a new component into the sandbox. The registered components
will be traversed on `.start()` initializing every matching component.

### Parameters

-   `params` **[object][1]** Every property other than `component` and `selector` will be used as component option
    -   `params.component` **Component** Component constructor
    -   `params.selector` **[string][4]** Child component root CSS selector

### Examples

```javascript
sandbox.register({
  component: Counter,
  selector: '.Counter',
  theme: 'dark' // <-- instance options
});
```

## start

```js
start([data])
```

Starts the sandbox with an optional context.

The store will be available inside each component at `this.$context`.

### Parameters

-   `data` **[object][1]?** Optional context data object to be injected into the child components. (optional, default `{}`)

### Examples

```javascript
sandbox.start();

// with context data
sandbox.start({ globalTheme: 'dark' });
```

Returns **[Sandbox][7]** 

## stop

```js
stop()
```

Stops every running component and clears sandbox events.

### Examples

```javascript
sandbox.stop();
```

Returns **[Promise][8]&lt;void>** 

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[3]: https://developer.mozilla.org/docs/Web/HTML/Element

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[5]: /packages/application/api/context

[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map

[7]: #sandbox

[8]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
